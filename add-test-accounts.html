<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>添加快速登录测试账号</title>
</head>
<body>
    <h1>添加快速登录测试账号</h1>
    <button onclick="addTestAccounts()">添加测试账号</button>
    <div id="result"></div>

    <script>
        async function addTestAccounts() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '正在添加测试账号...';
            
            const accounts = [
                {
                    username: 'doctor',
                    password: '123456',
                    realName: '测试医生',
                    roleCode: 'doctor',
                    roleName: '医生',
                    phone: '13800001001',
                    email: 'test.doctor@smartcare.com'
                },
                {
                    username: 'family',
                    password: '123456',
                    realName: '测试家属',
                    roleCode: 'family',
                    roleName: '家属',
                    phone: '13800001002',
                    email: 'test.family@smartcare.com'
                }
            ];
            
            let results = [];
            
            for (const account of accounts) {
                try {
                    const response = await fetch('http://localhost:8080/api/auth/register', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(account)
                    });
                    
                    const data = await response.json();
                    
                    if (response.ok) {
                        results.push(`✅ ${account.username} - 注册成功`);
                    } else {
                        results.push(`❌ ${account.username} - ${data.message || '注册失败'}`);
                    }
                } catch (error) {
                    results.push(`❌ ${account.username} - 网络错误: ${error.message}`);
                }
            }
            
            resultDiv.innerHTML = `<h3>测试账号添加结果：</h3><pre>${results.join('\n')}</pre>`;
        }
    </script>
</body>
</html>
