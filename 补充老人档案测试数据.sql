-- 智慧医养平台 - 老人档案补充测试数据
-- 创建时间: 2025-06-29
-- 用途: 为老人管理模块提供丰富的测试数据
-- 首先补充现有数据的缺失字段
UPDATE elderly
SET room_number = CASE
    WHEN id = 1 THEN 'A101'
    WHEN id = 2 THEN 'A102'
    WHEN id = 3 THEN 'B201'
    WHEN id = 4 THEN 'C301'
    ELSE room_number
  END,
  guardian_name = CASE
    WHEN id = 1 THEN '张小明'
    WHEN id = 2 THEN '李小华'
    WHEN id = 3 THEN '王小芳'
    WHEN id = 4 THEN '刘小强'
    ELSE guardian_name
  END,
  guardian_phone = CASE
    WHEN id = 1 THEN '13911112222'
    WHEN id = 2 THEN '13922223333'
    WHEN id = 3 THEN '13933334444'
    WHEN id = 4 THEN '13944445555'
    ELSE guardian_phone
  END,
  emergency_contact = CASE
    WHEN id = 1 THEN '张三'
    WHEN id = 2 THEN '李四'
    WHEN id = 3 THEN '王五'
    WHEN id = 4 THEN '刘六'
    ELSE emergency_contact
  END,
  emergency_phone = CASE
    WHEN id = 1 THEN '13800001111'
    WHEN id = 2 THEN '13800002222'
    WHEN id = 3 THEN '13800003333'
    WHEN id = 4 THEN '13800004444'
    ELSE emergency_phone
  END,
  blood_type = CASE
    WHEN id = 1 THEN 'A'
    WHEN id = 2 THEN 'B'
    WHEN id = 3 THEN 'O'
    WHEN id = 4 THEN 'AB'
    ELSE blood_type
  END,
  adl_score = CASE
    WHEN id = 1 THEN 85
    WHEN id = 2 THEN 72
    WHEN id = 3 THEN 65
    WHEN id = 4 THEN 45
    ELSE adl_score
  END
WHERE id IN (1, 2, 3, 4);
-- 新增多样化的老人档案数据
INSERT INTO elderly (
    name,
    id_card,
    phone,
    address,
    gender,
    birth_date,
    health_status,
    care_level,
    room_number,
    guardian_name,
    guardian_phone,
    emergency_contact,
    emergency_phone,
    blood_type,
    adl_score,
    create_time,
    update_time,
    is_deleted
  )
VALUES -- 健康老人组 (5条)
  (
    '陈建国',
    '110101194503151234',
    '13600001001',
    '北京市朝阳区建国门外大街100号',
    1,
    '1945-03-15',
    'HEALTHY',
    1,
    'A103',
    '陈小军',
    '13600002001',
    '陈军',
    '13600003001',
    'A',
    90,
    NOW(),
    NOW(),
    0
  ),
  (
    '赵美丽',
    '110101194807202345',
    '13600001002',
    '北京市海淀区中关村大街200号',
    0,
    '1948-07-20',
    'HEALTHY',
    1,
    'A104',
    '赵小华',
    '13600002002',
    '赵华',
    '13600003002',
    'O',
    88,
    NOW(),
    NOW(),
    0
  ),
  (
    '孙志强',
    '110101195012253456',
    '13600001003',
    '北京市西城区西单北大街300号',
    1,
    '1950-12-25',
    'HEALTHY',
    1,
    'A105',
    '孙小伟',
    '13600002003',
    '孙伟',
    '13600003003',
    'B',
    92,
    NOW(),
    NOW(),
    0
  ),
  (
    '周淑芬',
    '110101194604104567',
    '13600001004',
    '北京市东城区王府井大街400号',
    0,
    '1946-04-10',
    'HEALTHY',
    1,
    'A106',
    '周小鹏',
    '13600002004',
    '周鹏',
    '13600003004',
    'AB',
    85,
    NOW(),
    NOW(),
    0
  ),
  (
    '吴国庆',
    '110101194909095678',
    '13600001005',
    '北京市丰台区丰台路500号',
    1,
    '1949-09-09',
    'HEALTHY',
    1,
    'A107',
    '吴小军',
    '13600002005',
    '吴军',
    '13600003005',
    'A',
    87,
    NOW(),
    NOW(),
    0
  ),
  -- 亚健康老人组 (4条)
  (
    '郑小敏',
    '110101195106156789',
    '13600001006',
    '北京市石景山区八宝山路600号',
    0,
    '1951-06-15',
    'SUBHEALTH',
    2,
    'B202',
    '郑小刚',
    '13600002006',
    '郑刚',
    '13600003006',
    'O',
    75,
    NOW(),
    NOW(),
    0
  ),
  (
    '马德华',
    '110101194711117890',
    '13600001007',
    '北京市门头沟区新桥大街700号',
    1,
    '1947-11-11',
    'SUBHEALTH',
    2,
    'B203',
    '马小龙',
    '13600002007',
    '马龙',
    '13600003007',
    'B',
    78,
    NOW(),
    NOW(),
    0
  ),
  (
    '冯玉兰',
    '110101195208288901',
    '13600001008',
    '北京市房山区良乡大街800号',
    0,
    '1952-08-28',
    'SUBHEALTH',
    1,
    'B204',
    '冯小虎',
    '13600002008',
    '冯虎',
    '13600003008',
    'A',
    80,
    NOW(),
    NOW(),
    0
  ),
  (
    '韩志明',
    '110101194503039012',
    '13600001009',
    '北京市通州区新华大街900号',
    1,
    '1945-03-03',
    'SUBHEALTH',
    2,
    'B205',
    '韩小峰',
    '13600002009',
    '韩峰',
    '13600003009',
    'AB',
    72,
    NOW(),
    NOW(),
    0
  ),
  -- 疾病老人组 (4条)
  (
    '蒋春花',
    '110101194012120123',
    '13600001010',
    '北京市昌平区昌平路1000号',
    0,
    '1940-12-12',
    'SICK',
    3,
    'C302',
    '蒋小勇',
    '13600002010',
    '蒋勇',
    '13600003010',
    'O',
    60,
    NOW(),
    NOW(),
    0
  ),
  (
    '曹建军',
    '110101194105051234',
    '13600001011',
    '北京市大兴区黄村大街1100号',
    1,
    '1941-05-05',
    'SICK',
    3,
    'C303',
    '曹小英',
    '13600002011',
    '曹英',
    '13600003011',
    'A',
    58,
    NOW(),
    NOW(),
    0
  ),
  (
    '许秀英',
    '110101194308082345',
    '13600001012',
    '北京市怀柔区怀柔大街1200号',
    0,
    '1943-08-08',
    'SICK',
    2,
    'C304',
    '许小明',
    '13600002012',
    '许明',
    '13600003012',
    'B',
    65,
    NOW(),
    NOW(),
    0
  ),
  (
    '袁文博',
    '110101194710103456',
    '13600001013',
    '北京市平谷区平谷大街1300号',
    1,
    '1947-10-10',
    'SICK',
    2,
    'C305',
    '袁小丽',
    '13600002013',
    '袁丽',
    '13600003013',
    'AB',
    68,
    NOW(),
    NOW(),
    0
  ),
  -- 重病老人组 (3条)
  (
    '邓桂香',
    '110101193807074567',
    '13600001014',
    '北京市密云区密云大街1400号',
    0,
    '1938-07-07',
    'SERIOUS',
    3,
    'D401',
    '邓小宇',
    '13600002014',
    '邓宇',
    '13600003014',
    'O',
    45,
    NOW(),
    NOW(),
    0
  ),
  (
    '方志伟',
    '110101193909095678',
    '13600001015',
    '北京市延庆区延庆大街1500号',
    1,
    '1939-09-09',
    'SERIOUS',
    3,
    'D402',
    '方小芳',
    '13600002015',
    '方芳',
    '13600003015',
    'A',
    42,
    NOW(),
    NOW(),
    0
  ),
  (
    '史玉梅',
    '110101194006066789',
    '13600001016',
    '北京市顺义区顺义大街1600号',
    0,
    '1940-06-06',
    'SERIOUS',
    3,
    'D403',
    '史小强',
    '13600002016',
    '史强',
    '13600003016',
    'B',
    48,
    NOW(),
    NOW(),
    0
  ),
  -- 危险状态老人组 (2条)
  (
    '高建设',
    '110101193512127890',
    '13600001017',
    '北京市朝阳区三里屯大街1700号',
    1,
    '1935-12-12',
    'DANGER',
    3,
    'E501',
    '高小红',
    '13600002017',
    '高红',
    '13600003017',
    'AB',
    35,
    NOW(),
    NOW(),
    0
  ),
  (
    '段美华',
    '110101193703038901',
    '13600001018',
    '北京市海淀区学院路1800号',
    0,
    '1937-03-03',
    'DANGER',
    3,
    'E502',
    '段小军',
    '13600002018',
    '段军',
    '13600003018',
    'O',
    38,
    NOW(),
    NOW(),
    0
  ),
  -- 预警状态老人组 (3条)
  (
    '薛志国',
    '110101194404049012',
    '13600001019',
    '北京市西城区金融街1900号',
    1,
    '1944-04-04',
    'WARNING',
    2,
    'F601',
    '薛小燕',
    '13600002019',
    '薛燕',
    '13600003019',
    'A',
    70,
    NOW(),
    NOW(),
    0
  ),
  (
    '尹秀兰',
    '110101195001010123',
    '13600001020',
    '北京市东城区东华门大街2000号',
    0,
    '1950-01-01',
    'WARNING',
    1,
    'F602',
    '尹小东',
    '13600002020',
    '尹东',
    '13600003020',
    'B',
    73,
    NOW(),
    NOW(),
    0
  ),
  (
    '雷建华',
    '110101194205052234',
    '13600001021',
    '北京市丰台区南三环中路2100号',
    1,
    '1942-05-05',
    'WARNING',
    2,
    'F603',
    '雷小霞',
    '13600002021',
    '雷霞',
    '13600003021',
    'O',
    69,
    NOW(),
    NOW(),
    0
  );
-- 插入一些健康记录数据
INSERT INTO health_record (
    elderly_id,
    record_type,
    blood_pressure_systolic,
    blood_pressure_diastolic,
    heart_rate,
    body_temperature,
    blood_glucose,
    weight,
    height,
    symptoms,
    diagnosis,
    medication,
    doctor_advice,
    record_date,
    create_time,
    update_time,
    is_deleted
  )
VALUES -- 为健康老人创建健康记录
  (
    1,
    'REGULAR_CHECKUP',
    120,
    80,
    72,
    36.5,
    5.2,
    65.0,
    168.0,
    '无明显症状',
    '身体健康',
    '维生素D',
    '保持良好作息',
    '2025-06-25',
    NOW(),
    NOW(),
    0
  ),
  (
    2,
    'REGULAR_CHECKUP',
    115,
    78,
    68,
    36.4,
    5.0,
    58.0,
    155.0,
    '偶有头晕',
    '血压偏低',
    '钙片',
    '注意营养补充',
    '2025-06-24',
    NOW(),
    NOW(),
    0
  ),
  (
    3,
    'URGENT_CARE',
    135,
    85,
    88,
    36.8,
    6.1,
    70.0,
    172.0,
    '胸闷',
    '血压偏高',
    '降压药',
    '控制饮食，适量运动',
    '2025-06-23',
    NOW(),
    NOW(),
    0
  ),
  (
    4,
    'EMERGENCY',
    160,
    95,
    95,
    37.2,
    8.5,
    75.0,
    165.0,
    '呼吸困难，胸痛',
    '高血压危象',
    '紧急降压药',
    '立即住院观察',
    '2025-06-22',
    NOW(),
    NOW(),
    0
  ),
  -- 为其他老人创建一些基础健康记录
  (
    5,
    'REGULAR_CHECKUP',
    118,
    76,
    70,
    36.3,
    5.1,
    62.0,
    170.0,
    '无症状',
    '健康',
    '无',
    '定期体检',
    '2025-06-25',
    NOW(),
    NOW(),
    0
  ),
  (
    6,
    'REGULAR_CHECKUP',
    125,
    82,
    75,
    36.6,
    5.8,
    60.0,
    160.0,
    '轻微疲劳',
    '亚健康',
    '维生素B',
    '注意休息',
    '2025-06-24',
    NOW(),
    NOW(),
    0
  ),
  (
    7,
    'ROUTINE_VISIT',
    140,
    88,
    82,
    36.9,
    6.5,
    68.0,
    165.0,
    '关节疼痛',
    '关节炎',
    '止痛药',
    '物理治疗',
    '2025-06-23',
    NOW(),
    NOW(),
    0
  ),
  (
    8,
    'ROUTINE_VISIT',
    130,
    85,
    78,
    36.7,
    6.2,
    55.0,
    158.0,
    '失眠',
    '神经衰弱',
    '安神药',
    '调节作息',
    '2025-06-22',
    NOW(),
    NOW(),
    0
  );
-- 更新统计信息
ANALYZE TABLE elderly;
ANALYZE TABLE health_record;
-- 查看插入结果
SELECT COUNT(*) as total_elderly
FROM elderly
WHERE is_deleted = 0;
SELECT COUNT(*) as total_health_records
FROM health_record
WHERE is_deleted = 0;
SELECT health_status,
  COUNT(*) as count
FROM elderly
WHERE is_deleted = 0
GROUP BY health_status;
SELECT care_level,
  COUNT(*) as count
FROM elderly
WHERE is_deleted = 0
GROUP BY care_level;