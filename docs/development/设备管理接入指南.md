# ğŸ¥ æ™ºæ…§åŒ»å…»å¹³å° - è®¾å¤‡ç®¡ç†æ¥å…¥æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æ™ºæ…§åŒ»å…»å¹³å°è®¾å¤‡ç®¡ç†æ¨¡å—ä¸ºåŒ»ç–—å…»è€æœºæ„æä¾›ç»Ÿä¸€çš„è®¾å¤‡æ¥å…¥ã€ç®¡ç†å’Œç›‘æ§å¹³å°ã€‚æ”¯æŒå¤šç§åŒ»ç–—è®¾å¤‡çš„æ•°æ®é‡‡é›†ã€çŠ¶æ€ç›‘æ§ã€é¢„è­¦æé†’ç­‰åŠŸèƒ½ã€‚

## ğŸ”§ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Spring Boot 2.7.18
- **æ•°æ®åº“**: MySQL 8.0 + MyBatis-Plus
- **ç¼“å­˜**: Redis
- **æ–‡æ¡£**: Swagger/OpenAPI 3.0
- **å®‰å…¨**: Spring Security + JWT

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Vue.js 3 + Composition API
- **UIç»„ä»¶**: Element Plus
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia

## ğŸ“Š æ”¯æŒçš„è®¾å¤‡ç±»å‹

### ç”Ÿç†ç›‘æµ‹è®¾å¤‡
| è®¾å¤‡ç±»å‹ | ä»£ç  | æè¿° | æ•°æ®é‡‡é›†é¢‘ç‡ |
|---------|------|------|-------------|
| æ™ºèƒ½è¡€å‹è®¡ | BLOOD_PRESSURE | ç›‘æµ‹è¡€å‹ã€å¿ƒç‡ | æŒ‰éœ€æµ‹é‡ |
| è¡€ç³–ä»ª | BLOOD_GLUCOSE | ç›‘æµ‹è¡€ç³–æ°´å¹³ | æŒ‰éœ€æµ‹é‡ |
| æ™ºèƒ½ä½“æ¸©è®¡ | THERMOMETER | ç›‘æµ‹ä½“æ¸© | æŒ‰éœ€æµ‹é‡ |
| å¿ƒç”µç›‘æŠ¤ä»ª | ECG_MONITOR | ç›‘æµ‹å¿ƒç”µå›¾ã€ç”Ÿå‘½ä½“å¾ | å®æ—¶ç›‘æµ‹ |
| æ™ºèƒ½ä½“é‡ç§¤ | WEIGHT_SCALE | ç›‘æµ‹ä½“é‡ã€BMI | æŒ‰éœ€æµ‹é‡ |

### å¯ç©¿æˆ´è®¾å¤‡
| è®¾å¤‡ç±»å‹ | ä»£ç  | æè¿° | æ•°æ®é‡‡é›†é¢‘ç‡ |
|---------|------|------|-------------|
| æ™ºèƒ½æ‰‹ç¯ | SMART_WATCH | ç›‘æµ‹å¿ƒç‡ã€æ­¥æ•°ã€ç¡çœ  | 1-60ç§’ |

### å®‰å…¨ç›‘æŠ¤è®¾å¤‡
| è®¾å¤‡ç±»å‹ | ä»£ç  | æè¿° | æ•°æ®é‡‡é›†é¢‘ç‡ |
|---------|------|------|-------------|
| å®šä½å™¨ | LOCATOR | GPSå®šä½è¿½è¸ª | 5-60åˆ†é’Ÿ |
| ç´§æ€¥å‘¼å«å™¨ | EMERGENCY_BUTTON | ç´§æ€¥æ±‚åŠ© | äº‹ä»¶è§¦å‘ |

### ç¯å¢ƒç›‘æµ‹è®¾å¤‡
| è®¾å¤‡ç±»å‹ | ä»£ç  | æè¿° | æ•°æ®é‡‡é›†é¢‘ç‡ |
|---------|------|------|-------------|
| ç¯å¢ƒç›‘æµ‹å™¨ | ENVIRONMENT_SENSOR | æ¸©æ¹¿åº¦ã€ç©ºæ°”è´¨é‡ | 10-60åˆ†é’Ÿ |

## ğŸ”Œ è®¾å¤‡æ¥å…¥æ–¹å¼

### é€šä¿¡åè®®æ”¯æŒ
- **WiFi**: é€‚ç”¨äºå›ºå®šä½ç½®è®¾å¤‡
- **è“ç‰™**: é€‚ç”¨äºè¿‘è·ç¦»è®¾å¤‡
- **4G/5G**: é€‚ç”¨äºç§»åŠ¨è®¾å¤‡
- **ZigBee**: é€‚ç”¨äºä½åŠŸè€—è®¾å¤‡
- **LoRa**: é€‚ç”¨äºé•¿è·ç¦»ä½åŠŸè€—è®¾å¤‡

### æ•°æ®ä¼ è¾“æ ¼å¼
æ‰€æœ‰è®¾å¤‡æ•°æ®å‡é‡‡ç”¨JSONæ ¼å¼ï¼Œé€šè¿‡REST APIè¿›è¡Œä¼ è¾“ã€‚

## ğŸ“ æ•°æ®åº“è®¾è®¡

### è®¾å¤‡è¡¨ç»“æ„ (equipment)
```sql
CREATE TABLE equipment (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'è®¾å¤‡ID',
    device_id VARCHAR(50) NOT NULL UNIQUE COMMENT 'è®¾å¤‡ç¼–å·',
    device_name VARCHAR(100) NOT NULL COMMENT 'è®¾å¤‡åç§°',
    device_type VARCHAR(50) NOT NULL COMMENT 'è®¾å¤‡ç±»å‹',
    brand VARCHAR(50) COMMENT 'è®¾å¤‡å“ç‰Œ',
    model VARCHAR(100) COMMENT 'è®¾å¤‡å‹å·',
    manufacturer VARCHAR(100) COMMENT 'åˆ¶é€ å•†',
    status VARCHAR(20) DEFAULT 'OFFLINE' COMMENT 'è®¾å¤‡çŠ¶æ€',
    location VARCHAR(200) COMMENT 'è®¾å¤‡ä½ç½®',
    elderly_id BIGINT COMMENT 'ç»‘å®šè€äººID',
    serial_number VARCHAR(100) COMMENT 'è®¾å¤‡åºåˆ—å·',
    mac_address VARCHAR(50) COMMENT 'MACåœ°å€',
    ip_address VARCHAR(50) COMMENT 'IPåœ°å€',
    protocol VARCHAR(20) COMMENT 'é€šä¿¡åè®®',
    api_endpoint VARCHAR(500) COMMENT 'APIæ¥å…¥åœ°å€',
    data_frequency INT DEFAULT 60 COMMENT 'æ•°æ®æ¨é€é¢‘ç‡ï¼ˆç§’ï¼‰',
    battery_level INT COMMENT 'ç”µæ± ç”µé‡ç™¾åˆ†æ¯”',
    firmware_version VARCHAR(50) COMMENT 'å›ºä»¶ç‰ˆæœ¬',
    last_online_time DATETIME COMMENT 'æœ€ååœ¨çº¿æ—¶é—´',
    last_data_time DATETIME COMMENT 'æœ€åæ•°æ®ä¸ŠæŠ¥æ—¶é—´',
    install_date DATETIME COMMENT 'å®‰è£…æ—¥æœŸ',
    warranty_expiry DATETIME COMMENT 'ä¿ä¿®åˆ°æœŸæ—¥æœŸ',
    description TEXT COMMENT 'è®¾å¤‡æè¿°',
    config_params JSON COMMENT 'é…ç½®å‚æ•°',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    is_deleted TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤'
);
```

## ğŸš€ APIæ¥å£æ–‡æ¡£

### åŸºç¡€URL
```
http://localhost:8080/api/equipment
```

### 1. è®¾å¤‡åˆ—è¡¨æŸ¥è¯¢
```http
GET /list
```

**è¯·æ±‚å‚æ•°ï¼š**
| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| current | int | å¦ | å½“å‰é¡µï¼Œé»˜è®¤1 |
| size | int | å¦ | æ¯é¡µå¤§å°ï¼Œé»˜è®¤10 |
| deviceType | string | å¦ | è®¾å¤‡ç±»å‹è¿‡æ»¤ |
| status | string | å¦ | è®¾å¤‡çŠ¶æ€è¿‡æ»¤ |
| keyword | string | å¦ | å…³é”®è¯æœç´¢ |

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "records": [
      {
        "id": 1,
        "deviceId": "BP001",
        "deviceName": "æ™ºèƒ½è¡€å‹è®¡-001",
        "deviceType": "BLOOD_PRESSURE",
        "brand": "æ¬§å§†é¾™",
        "model": "HEM-7136",
        "status": "ONLINE",
        "location": "Aæ ‹101å®¤",
        "batteryLevel": 85,
        "lastOnlineTime": "2025-07-08T12:00:00"
      }
    ],
    "total": 100,
    "current": 1,
    "size": 10
  }
}
```

### 2. è®¾å¤‡è¯¦æƒ…æŸ¥è¯¢
```http
GET /{id}
```

**è¯·æ±‚å‚æ•°ï¼š**
| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | long | æ˜¯ | è®¾å¤‡ID |

### 3. åˆ›å»ºè®¾å¤‡
```http
POST /
```

**è¯·æ±‚ä½“ï¼š**
```json
{
  "deviceId": "BP001",
  "deviceName": "æ™ºèƒ½è¡€å‹è®¡-001",
  "deviceType": "BLOOD_PRESSURE",
  "brand": "æ¬§å§†é¾™",
  "model": "HEM-7136",
  "manufacturer": "æ¬§å§†é¾™å¥åº·åŒ»ç–—(ä¸­å›½)æœ‰é™å…¬å¸",
  "status": "ONLINE",
  "location": "Aæ ‹101å®¤",
  "protocol": "WIFI",
  "description": "ç”¨äºç›‘æµ‹è€äººè¡€å‹çš„æ™ºèƒ½è®¾å¤‡"
}
```

### 4. æ›´æ–°è®¾å¤‡
```http
PUT /{id}
```

### 5. åˆ é™¤è®¾å¤‡
```http
DELETE /{id}
```

### 6. è®¾å¤‡ç»Ÿè®¡
```http
GET /statistics
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "totalCount": 100,
    "onlineCount": 85,
    "offlineCount": 12,
    "faultCount": 3,
    "onlineRate": 85.0
  }
}
```

### 7. è®¾å¤‡ç±»å‹ç»Ÿè®¡
```http
GET /type-statistics
```

### 8. è®¾å¤‡æ¥å…¥å‚æ•°
```http
GET /integration-params/{deviceType}
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "deviceType": "BLOOD_PRESSURE",
    "deviceName": "æ™ºèƒ½è¡€å‹è®¡",
    "apiEndpoint": "/api/devices/blood-pressure/data",
    "dataFormat": {
      "systolic": "number",
      "diastolic": "number",
      "heartRate": "number",
      "timestamp": "datetime"
    },
    "sampleData": {
      "systolic": 120,
      "diastolic": 80,
      "heartRate": 72,
      "timestamp": "2025-07-08T12:00:00"
    }
  }
}
```

## ğŸ’» å‰ç«¯é¡µé¢ç»“æ„

### é¡µé¢è·¯ç”±
- `/equipment/list` - è®¾å¤‡ç®¡ç†åˆ—è¡¨é¡µ
- `/equipment/detail/:id` - è®¾å¤‡è¯¦æƒ…é¡µ
- `/equipment/integration` - è®¾å¤‡æ¥å…¥æŒ‡å—é¡µ

### æ ¸å¿ƒç»„ä»¶
- `list.vue` - è®¾å¤‡åˆ—è¡¨é¡µé¢
- `EquipmentDetail.vue` - è®¾å¤‡è¯¦æƒ…ç»„ä»¶
- `EquipmentForm.vue` - è®¾å¤‡è¡¨å•ç»„ä»¶
- `DeviceIntegrationGuide.vue` - è®¾å¤‡æ¥å…¥æŒ‡å—ç»„ä»¶
- `DeviceIntegrationDetail.vue` - è®¾å¤‡æ¥å…¥è¯¦æƒ…ç»„ä»¶

## ğŸ”§ å¼€å‘é…ç½®

### åç«¯é…ç½®
```yaml
# application.yml
server:
  port: 8080

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/smartcare_cloud
    username: root
    password: 123456
```

### å‰ç«¯é…ç½®
```javascript
// vite.config.js
export default {
  server: {
    port: 3001,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true
      }
    }
  }
}
```

## ğŸ“± è®¾å¤‡æ¥å…¥ç¤ºä¾‹

### è¡€å‹è®¡æ•°æ®ä¸ŠæŠ¥
```javascript
// è®¾å¤‡ç«¯ä»£ç ç¤ºä¾‹
const deviceData = {
  deviceId: "BP001",
  systolic: 120,
  diastolic: 80,
  heartRate: 72,
  timestamp: new Date().toISOString()
};

fetch('/api/devices/blood-pressure/data', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer ' + token
  },
  body: JSON.stringify(deviceData)
});
```

### æ™ºèƒ½æ‰‹ç¯æ•°æ®ä¸ŠæŠ¥
```javascript
const wearableData = {
  deviceId: "SW001",
  heartRate: 72,
  steps: 8500,
  distance: 5.2,
  calories: 280,
  sleepDuration: 7.5,
  timestamp: new Date().toISOString()
};

fetch('/api/devices/smart-watch/data', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer ' + token
  },
  body: JSON.stringify(wearableData)
});
```

## ğŸ” å®‰å…¨è®¤è¯

### APIè®¤è¯
æ‰€æœ‰APIè¯·æ±‚éœ€è¦åœ¨Headerä¸­åŒ…å«JWT tokenï¼š
```http
Authorization: Bearer <your-jwt-token>
```

### æƒé™æ§åˆ¶
- ç®¡ç†å‘˜ï¼šå®Œæ•´çš„è®¾å¤‡ç®¡ç†æƒé™
- åŒ»ç”Ÿï¼šæŸ¥çœ‹å’Œæ“ä½œæƒé™
- æŠ¤ç†äººå‘˜ï¼šåŸºç¡€æŸ¥çœ‹æƒé™

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¼€å‘å›¢é˜Ÿ
- åç«¯å¼€å‘ï¼šSpring Boot + MyBatis-Plus
- å‰ç«¯å¼€å‘ï¼šVue.js 3 + Element Plus
- æ•°æ®åº“ï¼šMySQL 8.0 + Redis

### è”ç³»æ–¹å¼
- æŠ€æœ¯æ–‡æ¡£ï¼šhttp://localhost:8080/swagger-ui/
- å‰ç«¯é¡µé¢ï¼šhttp://localhost:3001
- è®¾å¤‡ç®¡ç†ï¼šhttp://localhost:3001/equipment/list

---

## ğŸ“‹ éƒ¨ç½²æ¸…å•

### åç«¯éƒ¨ç½²
1. å¯åŠ¨MySQLæ•°æ®åº“
2. æ‰§è¡Œè®¾å¤‡è¡¨ç»“æ„SQL
3. å¯åŠ¨RedisæœåŠ¡
4. è¿è¡ŒSpring Bootåº”ç”¨

### å‰ç«¯éƒ¨ç½²
1. å®‰è£…Node.jsä¾èµ–
2. é…ç½®APIä»£ç†
3. å¯åŠ¨Vue.jså¼€å‘æœåŠ¡å™¨

### æ•°æ®åº“åˆå§‹åŒ–
```sql
-- 1. åˆ›å»ºè®¾å¤‡è¡¨
source equipment_table.sql

-- 2. æ’å…¥ç¤ºä¾‹æ•°æ®
-- å·²åŒ…å«åœ¨SQLæ–‡ä»¶ä¸­
```

---

*æ™ºæ…§åŒ»å…»å¹³å°è®¾å¤‡ç®¡ç†æ¨¡å— - è®©è®¾å¤‡æ¥å…¥å˜å¾—ç®€å•é«˜æ•ˆï¼*
