# æ™ºæ…§åŒ»å…»å¹³å° - å®Œæ•´æ•°æ®å­—å…¸

## ğŸ“‹ ç›®å½•
- [1. ç”¨æˆ·ä¸æƒé™ç®¡ç†](#1-ç”¨æˆ·ä¸æƒé™ç®¡ç†)
- [2. è€äººæ¡£æ¡ˆç®¡ç†](#2-è€äººæ¡£æ¡ˆç®¡ç†)
- [3. åŒ»æŠ¤äººå‘˜ç®¡ç†](#3-åŒ»æŠ¤äººå‘˜ç®¡ç†)
- [4. å¥åº·ç®¡ç†](#4-å¥åº·ç®¡ç†)
- [5. æŠ¤ç†ä¸æœåŠ¡](#5-æŠ¤ç†ä¸æœåŠ¡)
- [6. è®¾å¤‡ç®¡ç†](#6-è®¾å¤‡ç®¡ç†)
- [7. ç³»ç»Ÿæ—¥å¿—](#7-ç³»ç»Ÿæ—¥å¿—)

---

## 1. ç”¨æˆ·ä¸æƒé™ç®¡ç†

### 1.1 ç³»ç»Ÿç”¨æˆ·è¡¨ (`sys_user`)

**è¡¨è¯´æ˜:** å­˜å‚¨æ‰€æœ‰ç³»ç»Ÿç”¨æˆ·çš„åŸºç¡€ä¿¡æ¯

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | ç”¨æˆ·ID |
| username | VARCHAR | 50 | âœ“ | UNIQUE | - | ç™»å½•ç”¨æˆ·å |
| password | VARCHAR | 255 | âœ“ | - | - | å¯†ç (BCryptåŠ å¯†) |
| real_name | VARCHAR | 50 | âœ“ | INDEX | - | çœŸå®å§“å |
| role_code | VARCHAR | 50 | âœ“ | INDEX | admin | è§’è‰²ç¼–ç  |
| organization_id | BIGINT | - | - | INDEX | - | æ‰€å±æœºæ„ID |
| avatar | VARCHAR | 200 | - | - | - | å¤´åƒURL |
| status | TINYINT | - | âœ“ | INDEX | 1 | çŠ¶æ€: 1-å¯ç”¨, 0-ç¦ç”¨ |
| created_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| updated_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |

**è§’è‰²ç¼–ç æšä¸¾å€¼:**
- `system_admin` - ç³»ç»Ÿç®¡ç†å‘˜
- `business_admin` - ä¸šåŠ¡ç®¡ç†å‘˜
- `doctor` - åŒ»ç”Ÿ
- `nurse` - æŠ¤å·¥
- `social_worker` - ç¤¾å·¥
- `family` - å®¶å±

**è¯´æ˜:**
- è¯¦ç»†çš„ç”¨æˆ·ä¿¡æ¯(ç”µè¯ã€é‚®ç®±ã€æ€§åˆ«ç­‰)å­˜å‚¨åœ¨å¯¹åº”çš„ä¸“ä¸šäººå‘˜è¡¨ä¸­:
  - åŒ»ç”Ÿä¿¡æ¯ â†’ `t_doctor` è¡¨
  - æŠ¤å·¥ä¿¡æ¯ â†’ `nurse_info` è¡¨
  - ç¤¾å·¥ä¿¡æ¯ â†’ `social_worker_info` è¡¨
  - å®¶å±ä¿¡æ¯ â†’ `family_user` è¡¨

---

### 1.2 è§’è‰²è¡¨ (`sys_role`)

**è¡¨è¯´æ˜:** è§’è‰²å®šä¹‰è¡¨

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | è§’è‰²ID |
| role_code | VARCHAR | 20 | âœ“ | UNIQUE | - | è§’è‰²ç¼–ç  |
| role_name | VARCHAR | 50 | âœ“ | - | - | è§’è‰²åç§° |
| role_desc | VARCHAR | 200 | - | - | - | è§’è‰²æè¿° |
| data_scope | VARCHAR | 20 | - | - | all | æ•°æ®èŒƒå›´: all-å…¨éƒ¨, org-æœ¬æœºæ„, dept-æœ¬éƒ¨é—¨, self-ä»…æœ¬äºº |
| status | TINYINT | - | - | - | 1 | çŠ¶æ€: 1-å¯ç”¨, 0-ç¦ç”¨ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®° |

---

### 1.3 æƒé™è¡¨ (`sys_permission`)

**è¡¨è¯´æ˜:** ç³»ç»Ÿæƒé™å®šä¹‰è¡¨

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | æƒé™ID |
| permission_code | VARCHAR | 50 | âœ“ | UNIQUE | - | æƒé™ç¼–ç  |
| permission_name | VARCHAR | 50 | âœ“ | - | - | æƒé™åç§° |
| permission_type | VARCHAR | 20 | - | - | - | æƒé™ç±»å‹: menu-èœå•, button-æŒ‰é’®, api-æ¥å£ |
| parent_id | BIGINT | - | - | INDEX | - | çˆ¶æƒé™ID |
| resource_path | VARCHAR | 200 | - | - | - | èµ„æºè·¯å¾„ |
| method | VARCHAR | 10 | - | - | - | HTTPæ–¹æ³• |
| sort_order | INT | - | - | - | 0 | æ’åºå· |
| status | TINYINT | - | - | - | 1 | çŠ¶æ€ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |

---

### 1.4 è§’è‰²-æƒé™å…³è”è¡¨ (`sys_role_permission`)

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | å…³è”ID |
| role_id | BIGINT | - | âœ“ | INDEX | - | è§’è‰²ID |
| permission_id | BIGINT | - | âœ“ | INDEX | - | æƒé™ID |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |

---

### 1.5 å®¶å±ç”¨æˆ·è¡¨ (`family_user`)

**è¡¨è¯´æ˜:** å®¶å±ç”¨æˆ·åŸºç¡€ä¿¡æ¯è¡¨(å…³è”ç³»ç»Ÿç”¨æˆ·)

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | å®¶å±ID |
| sys_user_id | BIGINT | - | âœ“ | UNIQUE | - | å…³è”ç³»ç»Ÿç”¨æˆ·ID |
| real_name | VARCHAR | 50 | âœ“ | INDEX | - | çœŸå®å§“å |
| gender | TINYINT | - | - | - | 1 | æ€§åˆ«: 1-ç”·, 0-å¥³ |
| phone | VARCHAR | 20 | - | INDEX | - | è”ç³»ç”µè¯ |
| email | VARCHAR | 100 | - | - | - | ç”µå­é‚®ç®± |
| status | TINYINT | - | - | INDEX | 1 | çŠ¶æ€: 1-å¯ç”¨, 0-ç¦ç”¨ |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®°: 0-æœªåˆ é™¤, 1-å·²åˆ é™¤ |
| create_time | DATETIME | - | - | INDEX | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | - | - | NOW() | æ›´æ–°æ—¶é—´ |
| create_by | BIGINT | - | - | - | - | åˆ›å»ºäººID |
| update_by | BIGINT | - | - | - | - | æ›´æ–°äººID |

**è¯´æ˜:**
- ä¸è€äººçš„å…³ç³»é€šè¿‡å…¶ä»–å…³è”è¡¨ç®¡ç†(å¦‚ `family_elderly_relation`)
- `sys_user_id` å…³è”åˆ° `sys_user.id`,å®ç°è´¦å·ç™»å½•åŠŸèƒ½

---

## 2. è€äººæ¡£æ¡ˆç®¡ç†

### 2.1 è€äººæ¡£æ¡ˆè¡¨ (`elderly`)

**è¡¨è¯´æ˜:** è€äººåŸºç¡€ä¿¡æ¯å’Œæ¡£æ¡ˆç®¡ç†

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | è€äººID |
| organization_id | BIGINT | - | âœ“ | INDEX | - | æ‰€å±æœºæ„ID |
| name | VARCHAR | 50 | âœ“ | INDEX | - | å§“å |
| id_card | VARCHAR | 18 | - | UNIQUE | - | èº«ä»½è¯å· |
| phone | VARCHAR | 20 | - | - | - | è”ç³»ç”µè¯ |
| gender | TINYINT | - | âœ“ | - | - | æ€§åˆ«: 1-ç”·, 0-å¥³ |
| birth_date | DATE | - | âœ“ | - | - | å‡ºç”Ÿæ—¥æœŸ |
| age | INT | - | - | - | - | å¹´é¾„(è®¡ç®—å­—æ®µ) |
| address | VARCHAR | 200 | - | - | - | å®¶åº­ä½å€ |
| room_number | VARCHAR | 20 | - | INDEX | - | æˆ¿é—´å· |
| admission_date | DATE | - | - | INDEX | - | å…¥ä½æ—¥æœŸ |
| admission_type | VARCHAR | 20 | - | - | - | å…¥ä½ç±»å‹: long_term-é•¿æœŸ, short_term-çŸ­æœŸ, respite-ä¸´æ—¶ |
| health_status | VARCHAR | 50 | - | INDEX | - | å¥åº·çŠ¶æ€: good-è‰¯å¥½, fair-ä¸€èˆ¬, poor-è¾ƒå·®, critical-å±é‡ |
| care_level | TINYINT | - | - | INDEX | - | ç…§æŠ¤ç­‰çº§: 1-è‡ªç†, 2-åŠè‡ªç†, 3-ä¸èƒ½è‡ªç† |
| disability_level | TINYINT | - | - | - | - | å¤±èƒ½ç­‰çº§: 1-è‡ªç†, 2-è½»åº¦, 3-ä¸­åº¦, 4-é‡åº¦ |
| mental_status | VARCHAR | 50 | - | - | - | ç²¾ç¥çŠ¶æ€ |
| guardian_name | VARCHAR | 50 | - | - | - | ç›‘æŠ¤äººå§“å |
| guardian_phone | VARCHAR | 20 | - | - | - | ç›‘æŠ¤äººç”µè¯ |
| emergency_contact | VARCHAR | 50 | - | - | - | ç´§æ€¥è”ç³»äºº |
| emergency_phone | VARCHAR | 20 | - | - | - | ç´§æ€¥è”ç³»äººç”µè¯ |
| family_medical_history | TEXT | - | - | - | - | å®¶æ—ç—…å² |
| allergy_history | TEXT | - | - | - | - | è¿‡æ•å² |
| chronic_diseases | JSON | - | - | - | - | æ…¢æ€§ç—…åˆ—è¡¨ |
| payment_method | VARCHAR | 50 | - | - | - | æ”¯ä»˜æ–¹å¼: self-è‡ªè´¹, insurance-åŒ»ä¿, government-æ”¿åºœè¡¥è´´ |
| responsible_doctor_id | BIGINT | - | - | INDEX | - | è´£ä»»åŒ»ç”ŸID |
| responsible_nurse_id | BIGINT | - | - | INDEX | - | è´£ä»»æŠ¤å·¥ID |
| responsible_social_worker_id | BIGINT | - | - | INDEX | - | è´£ä»»ç¤¾å·¥ID |
| status | TINYINT | - | - | INDEX | 1 | çŠ¶æ€: 0-å·²ç¦»é™¢, 1-åœ¨é™¢, 2-è¯·å‡ |
| create_time | DATETIME | - | âœ“ | INDEX | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |
| create_by | BIGINT | - | - | - | - | åˆ›å»ºè€…ID |
| update_by | BIGINT | - | - | - | - | æ›´æ–°è€…ID |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®° |

**æ…¢æ€§ç—…JSONæ ¼å¼ç¤ºä¾‹:**
```json
[
  {
    "disease_name": "é«˜è¡€å‹",
    "diagnosis_date": "2020-03-15",
    "severity": "ä¸­åº¦",
    "medication": "é™å‹è¯"
  }
]
```

---

### 2.2 å®¶å±-è€äººå…³è”è¡¨ (`family_elderly_relation`)

**è¡¨è¯´æ˜:** å®¶å±ä¸è€äººçš„ç»‘å®šå…³ç³»,æ§åˆ¶å®¶å±è®¿é—®æƒé™

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | å…³è”ID |
| family_id | BIGINT | - | âœ“ | INDEX | - | å®¶å±ç”¨æˆ·ID |
| elderly_id | BIGINT | - | âœ“ | INDEX | - | è€äººID |
| relationship | VARCHAR | 20 | âœ“ | - | - | å…³ç³»ç±»å‹: å„¿å­ã€å¥³å„¿ã€å„¿åª³ã€å¥³å©¿ã€å­™å­ã€å­™å¥³ç­‰ |
| access_level | VARCHAR | 20 | - | - | basic | è®¿é—®æƒé™çº§åˆ« |
| is_primary_contact | TINYINT | - | - | - | 0 | æ˜¯å¦ä¸»è¦è”ç³»äºº: 0-å¦, 1-æ˜¯ |
| status | TINYINT | - | - | INDEX | 1 | å…³è”çŠ¶æ€: 0-æ— æ•ˆ, 1-æœ‰æ•ˆ |
| start_date | DATETIME | - | - | - | NOW() | å…³è”å¼€å§‹æ—¶é—´ |
| end_date | DATETIME | - | - | - | - | å…³è”ç»“æŸæ—¶é—´ |
| remark | VARCHAR | 500 | - | - | - | å¤‡æ³¨ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |
| create_by | BIGINT | - | - | - | - | åˆ›å»ºè€…ID |
| update_by | BIGINT | - | - | - | - | æ›´æ–°è€…ID |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®° |

**è®¿é—®çº§åˆ«è¯´æ˜:**
- `basic` - åŸºç¡€ä¿¡æ¯: å§“åã€å¹´é¾„ã€æˆ¿é—´å·ã€å…¥ä½æ—¥æœŸ
- `health` - å¥åº·æ¦‚è¦: åŸºç¡€ä¿¡æ¯ + å¥åº·çŠ¶æ€ã€é¢„è­¦æ‘˜è¦
- `full` - å®Œæ•´ä¿¡æ¯: æ‰€æœ‰ä¿¡æ¯(è¯¦ç»†å¥åº·è®°å½•ã€ç”¨è¯è®°å½•ç­‰)

---

## 3. åŒ»æŠ¤äººå‘˜ç®¡ç†

### 3.1 åŒ»ç”Ÿä¿¡æ¯è¡¨ (`t_doctor`)

**è¡¨è¯´æ˜:** åŒ»ç”Ÿè¯¦ç»†ä¿¡æ¯

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | åŒ»ç”ŸID |
| user_id | BIGINT | - | âœ“ | UNIQUE | - | å…³è”ç³»ç»Ÿç”¨æˆ·ID |
| organization_id | BIGINT | - | âœ“ | INDEX | - | æ‰€å±æœºæ„ID |
| employee_number | VARCHAR | 50 | âœ“ | UNIQUE | - | å·¥å· |
| name | VARCHAR | 50 | âœ“ | INDEX | - | å§“å |
| gender | VARCHAR | 10 | - | - | - | æ€§åˆ« |
| age | INT | - | - | - | - | å¹´é¾„ |
| phone | VARCHAR | 20 | - | - | - | è”ç³»ç”µè¯ |
| email | VARCHAR | 100 | - | - | - | é‚®ç®± |
| department | VARCHAR | 50 | - | INDEX | - | ç§‘å®¤ |
| title | VARCHAR | 50 | - | - | - | èŒç§°: ä¸»ä»»åŒ»å¸ˆã€å‰¯ä¸»ä»»åŒ»å¸ˆã€ä¸»æ²»åŒ»å¸ˆã€åŒ»å¸ˆ |
| specialization | VARCHAR | 200 | - | - | - | ä¸“ä¸šç‰¹é•¿ |
| experience_years | INT | - | - | - | - | ä»ä¸šå¹´é™ |
| license_number | VARCHAR | 50 | - | - | - | æ‰§ä¸šè¯ä¹¦å· |
| qualification | VARCHAR | 100 | - | - | - | å­¦å†/èµ„è´¨ |
| work_schedule | JSON | - | - | - | - | æ’ç­ä¿¡æ¯ |
| service_scope | VARCHAR | 200 | - | - | - | æœåŠ¡èŒƒå›´ |
| max_patients | INT | - | - | - | 50 | æœ€å¤§è´Ÿè´£è€äººæ•° |
| status | TINYINT | - | - | INDEX | 1 | çŠ¶æ€: 0-ç¦»èŒ, 1-åœ¨èŒ, 2-ä¼‘å‡ |
| entry_date | DATE | - | - | - | - | å…¥èŒæ—¥æœŸ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®° |

**æ’ç­ä¿¡æ¯JSONæ ¼å¼:**
```json
[
  {
    "day_of_week": 1,
    "start_time": "08:00",
    "end_time": "17:00",
    "location": "é—¨è¯Šä¸‰æ¥¼"
  }
]
```

---

### 3.2 åŒ»ç”Ÿ-è€äººå…³è”è¡¨ (`doctor_elderly_relation`)

**è¡¨è¯´æ˜:** åŒ»ç”Ÿä¸è€äººçš„è´£ä»»å…³ç³»

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | å…³è”ID |
| doctor_id | BIGINT | - | âœ“ | INDEX | - | åŒ»ç”ŸID |
| elderly_id | BIGINT | - | âœ“ | INDEX | - | è€äººID |
| relationship_type | VARCHAR | 20 | âœ“ | - | primary | å…³ç³»ç±»å‹ |
| start_date | DATE | âœ“ | - | - | - | å¼€å§‹è´Ÿè´£æ—¥æœŸ |
| end_date | DATE | - | - | - | - | ç»“æŸè´Ÿè´£æ—¥æœŸ |
| status | TINYINT | - | - | INDEX | 1 | çŠ¶æ€: 0-æ— æ•ˆ, 1-æœ‰æ•ˆ |
| remark | VARCHAR | 500 | - | - | - | å¤‡æ³¨ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |
| create_by | BIGINT | - | - | - | - | åˆ›å»ºè€…ID |
| update_by | BIGINT | - | - | - | - | æ›´æ–°è€…ID |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®° |

**å…³ç³»ç±»å‹è¯´æ˜:**
- `primary` - ä¸»æ²»åŒ»ç”Ÿ (ä¸»è¦è´Ÿè´£äºº)
- `assistant` - ååŠ©åŒ»ç”Ÿ (è¾…åŠ©è¯Šç–—)
- `consultant` - ä¼šè¯ŠåŒ»ç”Ÿ (ä¸´æ—¶ä¼šè¯Š)

---

### 3.3 æŠ¤å·¥ä¿¡æ¯è¡¨ (`nurse_info`)

**è¡¨è¯´æ˜:** æŠ¤å·¥åŸºç¡€ä¿¡æ¯

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | æŠ¤å·¥ID |
| user_id | BIGINT | - | âœ“ | UNIQUE | - | å…³è”ç³»ç»Ÿç”¨æˆ·ID |
| organization_id | BIGINT | - | âœ“ | INDEX | - | æ‰€å±æœºæ„ID |
| employee_number | VARCHAR | 50 | âœ“ | UNIQUE | - | å·¥å· |
| name | VARCHAR | 50 | âœ“ | INDEX | - | å§“å |
| gender | TINYINT | - | - | - | - | æ€§åˆ«: 1-ç”·, 0-å¥³ |
| phone | VARCHAR | 20 | - | - | - | è”ç³»ç”µè¯ |
| id_card | VARCHAR | 18 | - | - | - | èº«ä»½è¯å· |
| entry_date | DATE | - | - | - | - | å…¥èŒæ—¥æœŸ |
| certificate_type | VARCHAR | 50 | - | - | - | è¯ä¹¦ç±»å‹ |
| certificate_number | VARCHAR | 50 | - | - | - | è¯ä¹¦ç¼–å· |
| work_area | VARCHAR | 100 | - | INDEX | - | å·¥ä½œåŒºåŸŸ |
| max_care_count | INT | - | - | - | 5 | æœ€å¤§ç…§æŠ¤äººæ•° |
| status | TINYINT | - | - | INDEX | 1 | çŠ¶æ€: 0-ç¦»èŒ, 1-åœ¨èŒ, 2-ä¼‘å‡ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®° |

---

### 3.4 æŠ¤å·¥-è€äººå…³è”è¡¨ (`nurse_elderly_relation`)

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | å…³è”ID |
| nurse_id | BIGINT | - | âœ“ | INDEX | - | æŠ¤å·¥ID |
| elderly_id | BIGINT | - | âœ“ | INDEX | - | è€äººID |
| care_level | TINYINT | - | - | - | - | ç…§æŠ¤ç­‰çº§: 1-ä¸€çº§, 2-äºŒçº§, 3-ä¸‰çº§ |
| start_date | DATE | âœ“ | - | - | - | å¼€å§‹ç…§æŠ¤æ—¥æœŸ |
| end_date | DATE | - | - | - | - | ç»“æŸç…§æŠ¤æ—¥æœŸ |
| status | TINYINT | - | - | INDEX | 1 | çŠ¶æ€: 0-æ— æ•ˆ, 1-æœ‰æ•ˆ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®° |

---

### 3.5 ç¤¾å·¥ä¿¡æ¯è¡¨ (`social_worker_info`)

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | ç¤¾å·¥ID |
| user_id | BIGINT | - | âœ“ | UNIQUE | - | å…³è”ç³»ç»Ÿç”¨æˆ·ID |
| organization_id | BIGINT | - | âœ“ | INDEX | - | æ‰€å±æœºæ„ID |
| employee_number | VARCHAR | 50 | âœ“ | UNIQUE | - | å·¥å· |
| name | VARCHAR | 50 | âœ“ | - | - | å§“å |
| gender | TINYINT | - | - | - | - | æ€§åˆ« |
| phone | VARCHAR | 20 | - | - | - | è”ç³»ç”µè¯ |
| specialization | VARCHAR | 100 | - | - | - | ä¸“ä¸šé¢†åŸŸ |
| certificate_type | VARCHAR | 50 | - | - | - | è¯ä¹¦ç±»å‹ |
| status | TINYINT | - | - | INDEX | 1 | çŠ¶æ€ |
| entry_date | DATE | - | - | - | - | å…¥èŒæ—¥æœŸ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®° |

---

## 4. å¥åº·ç®¡ç†

### 4.1 å¥åº·è®°å½•è¡¨ (`health_record`)

**è¡¨è¯´æ˜:** è€äººå¥åº·æ•°æ®è®°å½•

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | è®°å½•ID |
| elderly_id | BIGINT | - | âœ“ | INDEX | - | è€äººID |
| record_date | DATE | - | âœ“ | INDEX | - | è®°å½•æ—¥æœŸ |
| record_time | TIME | - | - | - | - | è®°å½•æ—¶é—´ |
| record_type | VARCHAR | 50 | - | INDEX | - | è®°å½•ç±»å‹: vital_signs-ä½“å¾, lab_test-æ£€éªŒ, exam-æ£€æŸ¥ |
| blood_pressure_high | INT | - | - | - | - | æ”¶ç¼©å‹(mmHg) |
| blood_pressure_low | INT | - | - | - | - | èˆ’å¼ å‹(mmHg) |
| heart_rate | INT | - | - | - | - | å¿ƒç‡(æ¬¡/åˆ†) |
| temperature | DECIMAL | 4,1 | - | - | - | ä½“æ¸©(â„ƒ) |
| blood_sugar | DECIMAL | 5,2 | - | - | - | è¡€ç³–(mmol/L) |
| blood_oxygen | INT | - | - | - | - | è¡€æ°§é¥±å’Œåº¦(%) |
| weight | DECIMAL | 5,2 | - | - | - | ä½“é‡(kg) |
| height | DECIMAL | 5,2 | - | - | - | èº«é«˜(cm) |
| bmi | DECIMAL | 4,2 | - | - | - | BMIæŒ‡æ•° |
| test_data | JSON | - | - | - | - | æ£€éªŒæ•°æ® |
| exam_data | JSON | - | - | - | - | æ£€æŸ¥æ•°æ® |
| recorder_id | BIGINT | - | - | INDEX | - | è®°å½•äººID |
| recorder_name | VARCHAR | 50 | - | - | - | è®°å½•äººå§“å |
| device_id | BIGINT | - | - | - | - | ä½¿ç”¨è®¾å¤‡ID |
| remark | VARCHAR | 500 | - | - | - | å¤‡æ³¨ |
| create_time | DATETIME | - | âœ“ | INDEX | NOW() | åˆ›å»ºæ—¶é—´ |

---

### 4.2 å¥åº·é¢„è­¦è¡¨ (`t_health_warning`)

**è¡¨è¯´æ˜:** å¥åº·å¼‚å¸¸é¢„è­¦è®°å½•ä¸å¤„ç†æµç¨‹

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | é¢„è­¦ID |
| elderly_id | BIGINT | - | âœ“ | INDEX | - | è€äººID |
| elderly_name | VARCHAR | 50 | - | - | - | è€äººå§“å(å†—ä½™å­—æ®µ) |
| warning_type | VARCHAR | 50 | - | INDEX | - | é¢„è­¦ç±»å‹ |
| warning_level | INT | - | âœ“ | INDEX | 1 | é¢„è­¦çº§åˆ«: 1-ä½é£é™©, 2-ä¸­é£é™©, 3-é«˜é£é™©, 4-ç´§æ€¥ |
| title | VARCHAR | 200 | - | - | - | é¢„è­¦æ ‡é¢˜ |
| content | TEXT | - | - | - | - | é¢„è­¦è¯¦æƒ… |
| trigger_data | JSON | - | - | - | - | è§¦å‘æ•°æ®(æŒ‡æ ‡å€¼ã€æ­£å¸¸èŒƒå›´ç­‰JSON) |
| data_source | VARCHAR | 50 | - | INDEX | - | æ•°æ®æ¥æº: device-è®¾å¤‡, manual-äººå·¥, system-ç³»ç»Ÿ |
| trigger_time | DATETIME | - | âœ“ | INDEX | - | é¢„è­¦è§¦å‘æ—¶é—´ |
| status | INT | - | âœ“ | INDEX | 0 | çŠ¶æ€: 0-å¾…å¤„ç†, 1-å·²åˆ†é…, 2-å¤„ç†ä¸­, 3-å·²å®Œæˆ |
| assigned_doctor_id | BIGINT | - | - | INDEX | - | åˆ†é…å¤„ç†åŒ»ç”ŸID |
| assigned_time | DATETIME | - | - | - | - | åˆ†é…æ—¶é—´ |
| handle_deadline | DATETIME | - | - | INDEX | - | å¤„ç†æ—¶é™ |
| handler_id | BIGINT | - | - | INDEX | - | å®é™…å¤„ç†äººID |
| handler_name | VARCHAR | 50 | - | - | - | å¤„ç†äººå§“å |
| handle_time | DATETIME | - | - | - | - | å®é™…å¤„ç†æ—¶é—´ |
| handle_result | TEXT | - | - | - | - | å¤„ç†ç»“æœ |
| handle_evaluation | VARCHAR | 500 | - | - | - | å¤„ç†è¯„ä»· |
| handle_remark | VARCHAR | 500 | - | - | - | å¤„ç†å¤‡æ³¨ |
| is_notified_family | TINYINT | - | - | - | 0 | æ˜¯å¦å·²é€šçŸ¥å®¶å±: 0-å¦, 1-æ˜¯ |
| is_notified_doctor | TINYINT | - | - | - | 0 | æ˜¯å¦å·²é€šçŸ¥åŒ»ç”Ÿ: 0-å¦, 1-æ˜¯ |
| remark | VARCHAR | 500 | - | - | - | å¤‡æ³¨ä¿¡æ¯ |
| created_time | DATETIME | - | âœ“ | INDEX | NOW() | åˆ›å»ºæ—¶é—´ |
| updated_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |
| create_by | BIGINT | - | - | - | - | åˆ›å»ºäººID |
| update_by | BIGINT | - | - | - | - | æ›´æ–°äººID |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®°: 0-æœªåˆ é™¤, 1-å·²åˆ é™¤ |

**é¢„è­¦ç±»å‹æšä¸¾å€¼:**
- `vital_signs` - ç”Ÿå‘½ä½“å¾å¼‚å¸¸
- `chronic_disease` - æ…¢æ€§ç—…æŒ‡æ ‡å¼‚å¸¸
- `medication` - ç”¨è¯å¼‚å¸¸
- `behavior` - è¡Œä¸ºå¼‚å¸¸
- `fall_risk` - è·Œå€’é£é™©
- `other` - å…¶ä»–

**é¢„è­¦çº§åˆ«:**
- `1` - ä½é£é™©(ç»¿è‰²)
- `2` - ä¸­é£é™©(é»„è‰²)
- `3` - é«˜é£é™©(æ©™è‰²)
- `4` - ç´§æ€¥(çº¢è‰²)

**çŠ¶æ€æµè½¬:**
- `0` - å¾…å¤„ç†(pending)
- `1` - å·²åˆ†é…(assigned)
- `2` - å¤„ç†ä¸­(processing)
- `3` - å·²å®Œæˆ(completed)

---

### 4.3 è¯„ä¼°æŠ¥å‘Šè¡¨ (`assessment_report`)

**è¡¨è¯´æ˜:** è€äººå¥åº·è¯„ä¼°æŠ¥å‘Š

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | æŠ¥å‘ŠID |
| elderly_id | BIGINT | - | âœ“ | INDEX | - | è€äººID |
| assessment_type | VARCHAR | 50 | - | INDEX | - | è¯„ä¼°ç±»å‹ |
| assessment_date | DATE | - | âœ“ | INDEX | - | è¯„ä¼°æ—¥æœŸ |
| assessor_id | BIGINT | - | âœ“ | INDEX | - | è¯„ä¼°äººID |
| assessor_name | VARCHAR | 50 | - | - | - | è¯„ä¼°äººå§“å |
| assessment_items | JSON | - | - | - | - | è¯„ä¼°é¡¹ç›® |
| total_score | INT | - | - | - | - | æ€»åˆ† |
| risk_level | VARCHAR | 20 | - | INDEX | - | é£é™©ç­‰çº§ |
| conclusion | TEXT | - | - | - | - | è¯„ä¼°ç»“è®º |
| suggestions | TEXT | - | - | - | - | å»ºè®®æªæ–½ |
| next_assessment_date | DATE | - | - | - | - | ä¸‹æ¬¡è¯„ä¼°æ—¥æœŸ |
| attachment_urls | JSON | - | - | - | - | é™„ä»¶URLåˆ—è¡¨ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |

**è¯„ä¼°ç±»å‹:**
- `health_assessment` - å¥åº·è¯„ä¼°
- `ability_assessment` - èƒ½åŠ›è¯„ä¼°
- `mental_assessment` - ç²¾ç¥çŠ¶æ€è¯„ä¼°
- `nutrition_assessment` - è¥å…»è¯„ä¼°

---

### 4.4 ç…§æŠ¤èƒ½åŠ›è¯„ä¼°è¡¨ (`elderly_care_assessment`)

**è¡¨è¯´æ˜:** è€äººç…§æŠ¤éœ€æ±‚å’Œèƒ½åŠ›è¯„ä¼°è®°å½•

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | è¯„ä¼°ID |
| elderly_id | BIGINT | - | âœ“ | INDEX | - | è€äººID |
| assessment_date | DATE | - | âœ“ | INDEX | - | è¯„ä¼°æ—¥æœŸ |
| assessment_type | VARCHAR | 20 | âœ“ | INDEX | - | è¯„ä¼°ç±»å‹ |
| total_score | INT | - | âœ“ | - | - | æ€»åˆ† |
| risk_level | VARCHAR | 10 | âœ“ | INDEX | - | é£é™©ç­‰çº§ |
| assessment_result | TEXT | - | - | - | - | è¯„ä¼°ç»“æœè¯¦æƒ… |
| suggestions | TEXT | - | - | - | - | å»ºè®®æªæ–½ |
| assessor_name | VARCHAR | 50 | - | - | - | è¯„ä¼°äººå§“å |
| create_time | DATETIME | - | - | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | - | - | NOW() | æ›´æ–°æ—¶é—´ |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®°: 0-æœªåˆ é™¤, 1-å·²åˆ é™¤ |

**è¯„ä¼°ç±»å‹æšä¸¾å€¼:**
- `health` - å¥åº·è¯„ä¼°
- `ability` - èƒ½åŠ›è¯„ä¼°
- `mental` - ç²¾ç¥è¯„ä¼°
- `nutrition` - è¥å…»è¯„ä¼°

**é£é™©ç­‰çº§:**
- `low` - ä½é£é™©
- `medium` - ä¸­é£é™©
- `high` - é«˜é£é™©

---

## 5. æŠ¤ç†ä¸æœåŠ¡

### 5.1 æŠ¤ç†è®°å½•è¡¨ (`nursing_record`)

**è¡¨è¯´æ˜:** æ—¥å¸¸æŠ¤ç†å·¥ä½œè®°å½•

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | è®°å½•ID |
| elderly_id | BIGINT | - | âœ“ | INDEX | - | è€äººID |
| nurse_id | BIGINT | - | âœ“ | INDEX | - | æŠ¤å·¥ID |
| record_date | DATE | - | âœ“ | INDEX | - | è®°å½•æ—¥æœŸ |
| record_time | TIME | - | âœ“ | - | - | è®°å½•æ—¶é—´ |
| care_type | VARCHAR | 50 | - | INDEX | - | æŠ¤ç†ç±»å‹ |
| care_content | TEXT | - | - | - | - | æŠ¤ç†å†…å®¹ |
| elderly_status | VARCHAR | 200 | - | - | - | è€äººçŠ¶æ€ |
| abnormal_situation | VARCHAR | 500 | - | - | - | å¼‚å¸¸æƒ…å†µ |
| images | JSON | - | - | - | - | æŠ¤ç†ç…§ç‰‡ |
| duration_minutes | INT | - | - | - | - | æŠ¤ç†æ—¶é•¿(åˆ†é’Ÿ) |
| create_time | DATETIME | - | âœ“ | INDEX | NOW() | åˆ›å»ºæ—¶é—´ |

**æŠ¤ç†ç±»å‹:**
- `morning_care` - æ™¨é—´æŠ¤ç†
- `evening_care` - æ™šé—´æŠ¤ç†
- `feeding` - å–‚é£Ÿ
- `bathing` - æ´—æµ´
- `turning` - ç¿»èº«
- `toileting` - å¦‚å•ååŠ©
- `medication` - ç”¨è¯ååŠ©
- `exercise` - æ´»åŠ¨ååŠ©

---

### 5.2 ç”¨è¯è®°å½•è¡¨ (`medication_record`)

**è¡¨è¯´æ˜:** è€äººç”¨è¯ç®¡ç†è®°å½•

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | è®°å½•ID |
| elderly_id | BIGINT | - | âœ“ | INDEX | - | è€äººID |
| doctor_id | BIGINT | - | - | INDEX | - | å¼€å…·åŒ»ç”ŸID |
| medication_name | VARCHAR | 100 | âœ“ | INDEX | - | è¯å“åç§° |
| medication_type | VARCHAR | 50 | - | - | - | è¯å“ç±»å‹ |
| dosage | VARCHAR | 50 | - | - | - | å‰‚é‡ |
| frequency | VARCHAR | 50 | - | - | - | æœç”¨é¢‘ç‡ |
| start_date | DATE | âœ“ | INDEX | - | - | å¼€å§‹æ—¥æœŸ |
| end_date | DATE | - | INDEX | - | - | ç»“æŸæ—¥æœŸ |
| administration_route | VARCHAR | 50 | - | - | - | ç»™è¯é€”å¾„ |
| purpose | VARCHAR | 200 | - | - | - | ç”¨è¯ç›®çš„ |
| side_effects | VARCHAR | 500 | - | - | - | å¯èƒ½å‰¯ä½œç”¨ |
| precautions | VARCHAR | 500 | - | - | - | æ³¨æ„äº‹é¡¹ |
| actual_records | JSON | - | - | - | - | å®é™…æœè¯è®°å½• |
| status | TINYINT | - | - | INDEX | 1 | çŠ¶æ€: 0-å·²åœç”¨, 1-ä½¿ç”¨ä¸­ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |

**å®é™…æœè¯è®°å½•JSONæ ¼å¼:**
```json
[
  {
    "date": "2024-10-28",
    "time": "08:00",
    "operator_id": 5,
    "operator_name": "ç‹æŠ¤å·¥",
    "status": "completed",
    "remark": "æŒ‰æ—¶æœç”¨"
  }
]
```

---

### 5.3 å·¡è¯Šè®°å½•è¡¨ (`visit_record`)

**è¡¨è¯´æ˜:** åŒ»ç”Ÿå·¡è¯Šå·¥ä½œè®°å½•

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | è®°å½•ID |
| elderly_id | BIGINT | - | âœ“ | INDEX | - | è€äººID |
| doctor_id | BIGINT | - | âœ“ | INDEX | - | åŒ»ç”ŸID |
| visit_date | DATE | - | âœ“ | INDEX | - | å·¡è¯Šæ—¥æœŸ |
| visit_time | TIME | - | âœ“ | - | - | å·¡è¯Šæ—¶é—´ |
| chief_complaint | VARCHAR | 500 | - | - | - | ä¸»è¯‰ |
| symptoms | TEXT | - | - | - | - | ç—‡çŠ¶æè¿° |
| physical_exam | TEXT | - | - | - | - | ä½“æ ¼æ£€æŸ¥ |
| diagnosis | VARCHAR | 500 | - | - | - | è¯Šæ–­ |
| treatment_plan | TEXT | - | - | - | - | æ²»ç–—æ–¹æ¡ˆ |
| prescription | JSON | - | - | - | - | å¤„æ–¹ |
| next_visit_date | DATE | - | - | INDEX | - | ä¸‹æ¬¡å·¡è¯Šæ—¥æœŸ |
| remarks | TEXT | - | - | - | - | å¤‡æ³¨ |
| create_time | DATETIME | - | âœ“ | INDEX | NOW() | åˆ›å»ºæ—¶é—´ |

---

## 6. è®¾å¤‡ç®¡ç†

### 6.1 è®¾å¤‡ä¿¡æ¯è¡¨ (`equipment`)

**è¡¨è¯´æ˜:** åŒ»ç–—è®¾å¤‡å°è´¦ç®¡ç†

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | è®¾å¤‡ID |
| organization_id | BIGINT | - | - | INDEX | - | æ‰€å±æœºæ„ID |
| device_code | VARCHAR | 50 | âœ“ | UNIQUE | - | è®¾å¤‡ç¼–å· |
| device_name | VARCHAR | 100 | âœ“ | - | - | è®¾å¤‡åç§° |
| device_type | VARCHAR | 50 | - | INDEX | - | è®¾å¤‡ç±»å‹ |
| device_model | VARCHAR | 100 | - | - | - | è®¾å¤‡å‹å· |
| manufacturer | VARCHAR | 100 | - | - | - | ç”Ÿäº§å‚å®¶ |
| purchase_date | DATE | - | - | - | - | è´­ç½®æ—¥æœŸ |
| warranty_period | INT | - | - | - | - | ä¿ä¿®æœŸ(æœˆ) |
| location | VARCHAR | 100 | - | INDEX | - | å­˜æ”¾ä½ç½® |
| responsible_person | VARCHAR | 50 | - | - | - | è´£ä»»äºº |
| status | VARCHAR | 20 | - | INDEX | - | çŠ¶æ€ |
| last_maintenance_date | DATE | - | - | - | - | ä¸Šæ¬¡ç»´æŠ¤æ—¥æœŸ |
| next_maintenance_date | DATE | - | - | INDEX | - | ä¸‹æ¬¡ç»´æŠ¤æ—¥æœŸ |
| elderly_id | BIGINT | - | - | INDEX | - | ç»‘å®šè€äººID(ä¸ªäººè®¾å¤‡) |
| remark | VARCHAR | 500 | - | - | - | å¤‡æ³¨ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |
| is_deleted | TINYINT | - | - | - | 0 | åˆ é™¤æ ‡è®° |

**è®¾å¤‡çŠ¶æ€:**
- `normal` - æ­£å¸¸
- `in_use` - ä½¿ç”¨ä¸­
- `maintenance` - ç»´æŠ¤ä¸­
- `malfunction` - æ•…éšœ
- `scrapped` - æŠ¥åºŸ

---

### 6.2 è®¾å¤‡ä½¿ç”¨è®°å½•è¡¨ (`equipment_usage_record`)

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | è®°å½•ID |
| equipment_id | BIGINT | - | âœ“ | INDEX | - | è®¾å¤‡ID |
| elderly_id | BIGINT | - | - | INDEX | - | ä½¿ç”¨è€äººID |
| operator_id | BIGINT | - | âœ“ | INDEX | - | æ“ä½œäººID |
| operator_name | VARCHAR | 50 | - | - | - | æ“ä½œäººå§“å |
| usage_date | DATE | - | âœ“ | INDEX | - | ä½¿ç”¨æ—¥æœŸ |
| usage_time | TIME | - | - | - | - | ä½¿ç”¨æ—¶é—´ |
| measurement_data | JSON | - | - | - | - | æµ‹é‡æ•°æ® |
| abnormal_situation | VARCHAR | 500 | - | - | - | å¼‚å¸¸æƒ…å†µ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |

---

## 7. ç³»ç»Ÿæ—¥å¿—

### 7.1 æ“ä½œå®¡è®¡æ—¥å¿—è¡¨ (`operation_log`)

**è¡¨è¯´æ˜:** ç³»ç»Ÿæ“ä½œå®¡è®¡è·Ÿè¸ª

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | æ—¥å¿—ID |
| user_id | BIGINT | - | âœ“ | INDEX | - | æ“ä½œç”¨æˆ·ID |
| user_role | VARCHAR | 20 | - | INDEX | - | ç”¨æˆ·è§’è‰² |
| username | VARCHAR | 50 | - | - | - | ç”¨æˆ·å |
| operation_type | VARCHAR | 50 | - | INDEX | - | æ“ä½œç±»å‹ |
| operation_module | VARCHAR | 50 | - | INDEX | - | æ“ä½œæ¨¡å— |
| target_type | VARCHAR | 50 | - | INDEX | - | ç›®æ ‡ç±»å‹ |
| target_id | BIGINT | - | - | INDEX | - | ç›®æ ‡ID |
| operation_detail | TEXT | - | - | - | - | æ“ä½œè¯¦æƒ… |
| ip_address | VARCHAR | 50 | - | - | - | IPåœ°å€ |
| user_agent | VARCHAR | 500 | - | - | - | ç”¨æˆ·ä»£ç† |
| operation_time | DATETIME | - | âœ“ | INDEX | NOW() | æ“ä½œæ—¶é—´ |
| execution_time | INT | - | - | - | - | æ‰§è¡Œæ—¶é•¿(ms) |
| status | TINYINT | - | - | INDEX | - | çŠ¶æ€: 0-å¤±è´¥, 1-æˆåŠŸ |
| error_message | TEXT | - | - | - | - | é”™è¯¯ä¿¡æ¯ |

**æ“ä½œç±»å‹:**
- `view` - æŸ¥çœ‹
- `add` - æ–°å¢
- `edit` - ç¼–è¾‘
- `delete` - åˆ é™¤
- `export` - å¯¼å‡º
- `import` - å¯¼å…¥
- `login` - ç™»å½•
- `logout` - ç™»å‡º

---

### 7.2 æœºæ„ä¿¡æ¯è¡¨ (`organization_info`)

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¿…å¡« | ç´¢å¼• | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|------|--------|------|
| id | BIGINT | - | âœ“ | PRIMARY | AUTO | æœºæ„ID |
| org_code | VARCHAR | 50 | âœ“ | UNIQUE | - | æœºæ„ç¼–ç  |
| org_name | VARCHAR | 100 | âœ“ | - | - | æœºæ„åç§° |
| org_type | VARCHAR | 20 | - | INDEX | - | æœºæ„ç±»å‹ |
| parent_org_id | BIGINT | - | - | INDEX | - | ä¸Šçº§æœºæ„ID |
| contact_person | VARCHAR | 50 | - | - | - | è”ç³»äºº |
| contact_phone | VARCHAR | 20 | - | - | - | è”ç³»ç”µè¯ |
| address | VARCHAR | 200 | - | - | - | åœ°å€ |
| capacity | INT | - | - | - | - | åºŠä½æ•°/å®¹é‡ |
| status | TINYINT | - | - | INDEX | 1 | çŠ¶æ€: 0-åœç”¨, 1-å¯ç”¨ |
| create_time | DATETIME | - | âœ“ | - | NOW() | åˆ›å»ºæ—¶é—´ |
| update_time | DATETIME | - | âœ“ | - | NOW() | æ›´æ–°æ—¶é—´ |

**æœºæ„ç±»å‹:**
- `hospital` - åŒ»é™¢
- `nursing_home` - å…»è€é™¢
- `community` - ç¤¾åŒºæœåŠ¡ä¸­å¿ƒ

---

## é™„å½•: æ•°æ®ç»Ÿè®¡

### æ•°æ®è¡¨æ€»è§ˆ

| åˆ†ç±» | è¡¨æ•°é‡ | è¡¨ååˆ—è¡¨ |
|------|--------|----------|
| ç”¨æˆ·æƒé™ | 5 | sys_user, sys_role, sys_permission, sys_role_permission, family_user |
| è€äººæ¡£æ¡ˆ | 2 | elderly, family_elderly_relation |
| åŒ»æŠ¤äººå‘˜ | 6 | t_doctor, doctor_elderly_relation, nurse_info, nurse_elderly_relation, social_worker_info |
| å¥åº·ç®¡ç† | 4 | health_record, t_health_warning, assessment_report, elderly_care_assessment |
| æŠ¤ç†æœåŠ¡ | 3 | nursing_record, medication_record, visit_record |
| è®¾å¤‡ç®¡ç† | 0 | *(å¾…å¼€å‘)* |
| ç³»ç»Ÿç®¡ç† | 2 | audit_log, organization_info |
| **å®é™…å­˜åœ¨** | **16** | - |
| **æ–‡æ¡£è§„åˆ’** | **22** | *(åŒ…å«å¾…å¼€å‘è¡¨)* |

**è¯´æ˜:**
- âœ… 16ä¸ªè¡¨å·²åœ¨æ•°æ®åº“ä¸­åˆ›å»ºå¹¶æŠ•å…¥ä½¿ç”¨
- â³ è®¾å¤‡ç®¡ç†æ¨¡å—(equipment, equipment_usage_record)è§„åˆ’ä¸­,æš‚æœªå®ç°
- â³ éƒ¨åˆ†å…³è”è¡¨(family_elderly_relation, visit_recordç­‰)è§„åˆ’ä¸­
- `audit_log` åŸå `operation_log`,å·²ç»Ÿä¸€æ›´å
- `t_health_warning` åŸå `health_warning`,åŠ  `t_` å‰ç¼€ä»¥åŒºåˆ†ä¸šåŠ¡è¡¨
- `family_user` ä¸ºå®¶å±åŸºç¡€ä¿¡æ¯è¡¨,å…³è” `sys_user`
- `elderly_care_assessment` ä¸ºç…§æŠ¤èƒ½åŠ›è¯„ä¼°è¡¨

---

**æ–‡æ¡£ç‰ˆæœ¬:** v2.1  
**æ›´æ–°æ—¥æœŸ:** 2025å¹´10æœˆ29æ—¥  
**ç»´æŠ¤äºº:** å¼€å‘å›¢é˜Ÿ  
**å˜æ›´è¯´æ˜:** 
- âœ… å·²ä¸å®é™…æ•°æ®åº“ç»“æ„å®Œå…¨åŒæ­¥(16/16è¡¨éªŒè¯é€šè¿‡)
- âœ… ä¿®æ­£ `sys_user` è¡¨ç»“æ„(10å­—æ®µ)
- âœ… æ›´æ–° `t_health_warning` è¡¨(27å­—æ®µ)
- âœ… ä¿®æ­£ `family_user` è¡¨å®šä¹‰(12å­—æ®µ,å®é™…ç»“æ„)
- âœ… ä¿®æ­£ `elderly_care_assessment` è¡¨å®šä¹‰(12å­—æ®µ,å®é™…ç»“æ„)
- âœ… ç»Ÿä¸€è¡¨å: `operation_log` â†’ `audit_log`
- âœ… æ ‡æ³¨è®¾å¤‡ç®¡ç†è¡¨ä¸ºå¾…å¼€å‘çŠ¶æ€
- âœ… å®Œæˆ16ä¸ªå®é™…è¡¨çš„å­—æ®µçº§éªŒè¯

